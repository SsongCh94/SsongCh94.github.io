---
layout: single
title:  "CORS란"
categories: cs
author_profile: false
---

# CORS

# CORS란 무엇인가!

## CORS (Cross-Origin Resource Sharing)

CORS는 다른 출처(origin) 간에 자원을 공유할 수 있도록 하는 메커니즘이다. 
웹 페이지가 자신과 다른 도메인에서 리소스를 요청할 때, 보안 상의 이유로 브라우저가 해당 요청을 제한하는데, 이를 SOP(Same-Origin Policy)라고 한다. 하지만, CORS를 사용하면 이러한 제한을 우회할 수 있다.

## SOP (Same-Origin Policy)

브라우저가 기본적으로 보안을 위해 동일 출처 정책(SOP)을 강제한다. 
동일 출처 정책은 간단히 말하면, 웹 페이지가 다른 도메인에서 데이터를 로드하는 것을 제한하는 보안 방식이다. 
웹 페이지는 동일한 도메인에서만 리소스를 가져올 수 있다.

## CORS 작동 방식

브라우저가 리소스를 요청할 때, 동일 출처가 아니면 브라우저는 서버에 **CORS 요청**을 보낸다. 
이 요청은 **프리플라이트 요청**이라고도 하는데, 본 요청을 보내기 전에 사전 요청을 보내어 서버가 CORS를 지원하는지 확인하는 과정이다.
이 요청은 HTTP OPTIONS 메서드를 사용하고, 몇 가지 헤더 정보와 함께 보낸다.
특히 'Origin' 헤더는 요청이 시작된 출처를 나타낸다.
서버는 이에 응답하여 자신이 CORS를 지원한다는 것을 알린다. 
이는 'Access-Control-Allow-Origin' 헤더를 포함한 응답을 통해 이루어진다. 
이 헤더의 값이 요청한 출처와 일치하면 브라우저는 본 요청을 수행한다. 
일치하지 않으면 브라우저는 CORS 오류를 발생시킨다.

## CORS를 다루는 방법

CORS 문제는 주로 클라이언트 측이 아닌 서버 측에서 해결된다. 
서버에서는 'Access-Control-Allow-Origin'과 같은 CORS 헤더를 응답에 포함시켜 이 문제를 해결할 수 있다.
또한 서버는 프리플라이트 요청에 대해 적절한 응답을 제공해야 한다.

따라서, 웹 서비스를 개발할 때에는 CORS 문제를 사전에 인지하고, 서버 설정을 적절히 관리하는 것이 중요하다. 
만약 서드파티 API를 사용한다면, 해당 API 서버가 CORS를 지원하는지 확인해야 한다.

CORS는 웹 보안에 중요한 역할을 하는 메커니즘이다. 
다양한 출처의 리소스를 안전하게 처리하도록 도와주며, 동시에 보안 위협으로부터 사용자를 보호한다.
따라서 웹 개발에서 CORS에 대한 이해는 필수적이다.